var defaultOptions={ignoreSelector:".js-toc-ignore",linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1};function ParseContent(r){var t=[].reduce;function a(e){return e[e.length-1]}function c(e){if(!(e instanceof window.HTMLElement))return e;if(r.ignoreHiddenElements&&(!e.offsetHeight||!e.offsetParent))return null;var t=e.getAttribute("data-heading-label")||(r.headingLabelCallback?String(r.headingLabelCallback(e.textContent)):e.textContent.trim()),t={id:e.id,children:[],nodeName:e.nodeName,headingLevel:+e.nodeName.toUpperCase().replace("H",""),textContent:t};return r.includeHtml&&(t.childNodes=e.childNodes),r.headingObjectCallback?r.headingObjectCallback(t,e):t}return{nestHeadingsArray:function(e){return t.call(e,function(e,t){t=c(t);if(t){for(var l=e.nest,n=(t=c(t)).headingLevel,s=l,o=a(s),i=n-(o?o.headingLevel:0);0<i&&(!(o=a(s))||n!==o.headingLevel);)o&&void 0!==o.children&&(s=o.children),i--;n>=r.collapseDepth&&(t.isCollapsed=!0),s.push(t)}return e},{nest:[]})},selectHeadings:function(e,t){var l=t;r.ignoreSelector&&(l=t.split(",").map(function(e){return e.trim()+":not("+r.ignoreSelector+")"}));try{return e.querySelectorAll(l)}catch(e){return console.warn("Headers not found with selector: "+l),null}}}}function BuildHtml(r){var a,c=[].forEach,d=[].some,u=document.body,f=!0,m=" ";function n(e,t){var l,t=t.appendChild(function(e){var t=document.createElement("li"),l=document.createElement("a");r.listItemClass&&t.setAttribute("class",r.listItemClass);r.onClick&&(l.onclick=r.onClick);r.includeTitleTags&&l.setAttribute("title",e.textContent);r.includeHtml&&e.childNodes.length?c.call(e.childNodes,function(e){l.appendChild(e.cloneNode(!0))}):l.textContent=e.textContent;return l.setAttribute("href",r.basePath+"#"+e.id),l.setAttribute("class",r.linkClass+m+"node-name--"+e.nodeName+m+r.extraLinkClasses),t.appendChild(l),t}(e));e.children.length&&(l=s(e.isCollapsed),e.children.forEach(function(e){n(e,l)}),t.appendChild(l))}function s(e){var t=r.orderedList?"ol":"ul",t=document.createElement(t),l=r.listClass+m+r.extraListClasses;return e&&(l=(l+=m+r.collapsibleClass)+(m+r.isCollapsedClass)),t.setAttribute("class",l),t}return{enableTocAnimation:function(){f=!0},disableTocAnimation:function(e){"string"==typeof(e=e.target||e.srcElement).className&&-1!==e.className.indexOf(r.linkClass)&&(f=!1)},render:function(e,t){var l=s(!1);if(t.forEach(function(e){n(e,l)}),null!==(a=e||a))return a.firstChild&&a.removeChild(a.firstChild),0===t.length?a:a.appendChild(l)},updateToc:function(e){l=r.scrollContainer&&document.querySelector(r.scrollContainer)?document.querySelector(r.scrollContainer).scrollTop:document.documentElement.scrollTop||u.scrollTop,r.positionFixedSelector&&(t=r.scrollContainer&&document.querySelector(r.scrollContainer)?document.querySelector(r.scrollContainer).scrollTop:document.documentElement.scrollTop||u.scrollTop,s=document.querySelector(r.positionFixedSelector),"auto"===r.fixedSidebarOffset&&(r.fixedSidebarOffset=a.offsetTop),t>r.fixedSidebarOffset?-1===s.className.indexOf(r.positionFixedClass)&&(s.className+=m+r.positionFixedClass):s.className=s.className.split(m+r.positionFixedClass).join(""));var l,n,t,s,o,i=e;f&&null!==a&&0<i.length&&(d.call(i,function(e,t){return function e(t){var l=0;return null!==t&&(l=t.offsetTop,r.hasInnerContainers&&(l+=e(t.offsetParent))),l}(e)>l+r.headingsOffset+10?(n=i[0===t?t:t-1],!0):t===i.length-1?(n=i[i.length-1],!0):void 0}),t=a.querySelectorAll("."+r.linkClass),c.call(t,function(e){e.className=e.className.split(m+r.activeLinkClass).join("")}),s=a.querySelectorAll("."+r.listItemClass),c.call(s,function(e){e.className=e.className.split(m+r.activeListItemClass).join("")}),(e=a.querySelector("."+r.linkClass+".node-name--"+n.nodeName+'[href="'+r.basePath+"#"+n.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]'))&&-1===e.className.indexOf(r.activeLinkClass)&&(e.className+=m+r.activeLinkClass),(o=e&&e.parentNode)&&-1===o.className.indexOf(r.activeListItemClass)&&(o.className+=m+r.activeListItemClass),o=a.querySelectorAll("."+r.listClass+"."+r.collapsibleClass),c.call(o,function(e){-1===e.className.indexOf(r.isCollapsedClass)&&(e.className+=m+r.isCollapsedClass)}),e&&e.nextSibling&&-1!==e.nextSibling.className.indexOf(r.isCollapsedClass)&&(e.nextSibling.className=e.nextSibling.className.split(m+r.isCollapsedClass).join("")),function e(t){if(t&&-1!==t.className.indexOf(r.collapsibleClass)&&-1!==t.className.indexOf(r.isCollapsedClass))return t.className=t.className.split(m+r.isCollapsedClass).join(""),e(t.parentNode.parentNode);return t}(e&&e.parentNode.parentNode))}}}function updateTocScroll(e){var t,l=e.tocElement||document.querySelector(e.tocSelector);l&&l.scrollHeight>l.clientHeight&&((e=l.querySelector("."+e.activeListItemClass))&&(t=l.getBoundingClientRect().top,l.scrollTop=e.offsetTop-t))}!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.tocbot=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var l,a,c,d,u={},f={},m=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if("undefined"!=typeof window||m)return d=Object.prototype.hasOwnProperty,f.destroy=function(){var e=C(u);null!==e&&(u.skipRendering||e&&(e.innerHTML=""),u.scrollContainer&&document.querySelector(u.scrollContainer)?(document.querySelector(u.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(u.scrollContainer).removeEventListener("resize",this._scrollListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1)))},f.init=function(e){if(m){u=function(){for(var e={},t=0;t<arguments.length;t++){var l,n=arguments[t];for(l in n)d.call(n,l)&&(e[l]=n[l])}return e}(defaultOptions,e||{}),this.options=u,this.state={},u.scrollSmooth&&(u.duration=u.scrollSmoothDuration,u.offset=u.scrollSmoothOffset),l=BuildHtml(u),a=ParseContent(u),this._buildHtml=l,this._parseContent=a,this._headingsArray=c,f.destroy();e=function(t){try{return t.contentElement||document.querySelector(t.contentSelector)}catch(e){return console.warn("Contents element not found: "+t.contentSelector),null}}(u);if(null!==e){var n,s,o,i,r,t=C(u);if(null!==t)if(null!==(c=a.selectHeadings(e,u.headingSelector)))return e=a.nestHeadingsArray(c).nest,u.skipRendering||l.render(t,e),this._scrollListener=(n=function(e){l.updateToc(c),u.disableTocScrollSync||updateTocScroll(u);var t=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||t)&&(l.updateToc(c),u.scrollEndCallback&&u.scrollEndCallback(e))},s=(s=u.throttleTimeout)||250,function(){var e=o||this,t=+new Date,l=arguments;i&&t<i+s?(clearTimeout(r),r=setTimeout(function(){i=t,n.apply(e,l)},s)):(i=t,n.apply(e,l))}),this._scrollListener(),u.scrollContainer&&document.querySelector(u.scrollContainer)?(document.querySelector(u.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(u.scrollContainer).addEventListener("resize",this._scrollListener,!1)):(document.addEventListener("scroll",this._scrollListener,!1),document.addEventListener("resize",this._scrollListener,!1)),this}}},f.refresh=function(e){f.destroy(),f.init(e||this.options)},e.tocbot=f;function C(t){try{return t.tocElement||document.querySelector(t.tocSelector)}catch(e){return console.warn("TOC element not found: "+t.tocSelector),null}}});