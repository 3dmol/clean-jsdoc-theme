var accordionLocalStorageKey="accordion-id",localStorage=window.localStorage;function setAccordionIdToLocalStorage(e){var o=JSON.parse(localStorage.getItem(accordionLocalStorageKey));o[e]=e,localStorage.setItem(accordionLocalStorageKey,JSON.stringify(o))}function removeAccordionIdFromLocalStorage(e){var o=JSON.parse(localStorage.getItem(accordionLocalStorageKey));delete o[e],localStorage.setItem(accordionLocalStorageKey,JSON.stringify(o))}function getAccordionIdsFromLocalStorage(){return JSON.parse(localStorage.getItem(accordionLocalStorageKey))||{}}function toggleAccordion(e){"false"===e.getAttribute("data-isopen")?(e.setAttribute("data-isopen","true"),setAccordionIdToLocalStorage(e.id)):(e.setAttribute("data-isopen","false"),removeAccordionIdFromLocalStorage(e.id))}function initAccordion(){void 0!==localStorage.getItem(accordionLocalStorageKey)&&null!==localStorage.getItem(accordionLocalStorageKey)||localStorage.setItem(accordionLocalStorageKey,"{}");var e=document.querySelectorAll(".sidebar-section-title"),o=getAccordionIdsFromLocalStorage();e.forEach(function(e){e.addEventListener("click",function(){toggleAccordion(e)}),e.id in o&&toggleAccordion(e)})}function isSourcePage(){return Boolean(document.querySelector("#source-page"))}function bringElementIntoView(e,o=!0){var t=document.querySelector(".navbar-container"),n=document.querySelector(".main-content"),c=e.getBoundingClientRect().top,r=16;t&&(r+=t.scrollHeight),n.scrollBy(0,c-r),o&&history.pushState(null,null,"#"+e.id)}function bringLinkToView(e){e.preventDefault(),e.stopPropagation();var e=e.currentTarget.getAttribute("href");!e||(e=document.getElementById(e.slice(1)))&&bringElementIntoView(e)}function bringIdToViewOnMount(){var e;isSourcePage()||""!==(e=window.location.hash)&&(e=document.getElementById(e.slice(1)))&&bringElementIntoView(e,!1)}function createAnchorElement(e){var o=document.createElement("a");return o.textContent="#",o.href="#"+e,o.classList.add("link-anchor"),o.onclick=bringLinkToView,o}function addAnchor(){var e=document.querySelector(".main-content").querySelector("section");[e.querySelectorAll("h1"),e.querySelectorAll("h2"),e.querySelectorAll("h3"),e.querySelectorAll("h4")].forEach(function(e){e.forEach(function(e){var o=createAnchorElement(e.id);e.classList.add("has-anchor"),e.append(o)})})}function copy(e){const o=document.createElement("textarea");o.value=e,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)}function showTooltip(e){var o=document.getElementById(e);o.classList.add("show-tooltip"),setTimeout(function(){o.classList.remove("show-tooltip")},3e3)}function copyFunction(e){var o=document.getElementById(e);copy((o.querySelector(".linenums")||o.querySelector("code")).innerText),showTooltip("tooltip-"+e)}function hideTocOnSourcePage(){isSourcePage()&&(document.querySelector(".toc-container").style.display="none")}function getPreTopBar(e,o){e='<div class="code-copy-icon-container" onclick="copyFunction(\''+e+'\')"><div><svg class="sm-icon" alt="click to copy"><use xlink:href="#copy-icon"></use></svg>'+('<div class="tooltip" id="tooltip-'+e+'">Copied!</div>')+"<div></div>";return'<div class="pre-top-bar-container">'+('<div class="code-lang-name-container"><div class="code-lang-name">'+o.toLocaleUpperCase()+"</div></div>")+e+"</div>"}function getPreDiv(){var e=document.createElement("div");return e.classList.add("pre-div"),e}function processAllPre(){var e=document.querySelectorAll("pre"),o=document.querySelector("#footer"),t=document.querySelector("#navbar"),o=o.getBoundingClientRect().height,t=t.getBoundingClientRect().height,c=window.innerHeight-t-o-168;e.forEach(function(e,o){var t=getPreDiv(),o="pre-id"+o,n=getPreTopBar(o,e.getAttribute("data-lang"));t.innerHTML=n,e.style.maxHeight=c+"px",e.id=o,e.parentNode.insertBefore(t,e),t.appendChild(e)})}function highlightAndBringLineIntoView(){var e=window.location.hash.replace("#line","");try{var o='[data-line-number="'+e+'"',t=document.querySelector(o);t.scrollIntoView(),t.parentNode.classList.add("selected")}catch(e){console.error(e)}}function onDomContentLoaded(){hljs.addPlugin({"after:highlightElement":function(e){e.el.parentNode.setAttribute("data-lang","code")}}),hljs.highlightAll(),hljs.initLineNumbersOnLoad({singleLine:!0}),initAccordion(),addAnchor(),processAllPre(),hideTocOnSourcePage(),setTimeout(function(){bringIdToViewOnMount(),isSourcePage()&&highlightAndBringLineIntoView()},1e3)}window.addEventListener("DOMContentLoaded",onDomContentLoaded);